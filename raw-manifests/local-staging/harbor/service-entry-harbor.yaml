apiVersion: networking.istio.io/v1
kind: ServiceEntry
metadata:
  name: harbor-service-entry
  namespace: istio-system
spec:
  hosts:
    - "harbor.staging.local"
  location: MESH_INTERNAL
  resolution: DNS
  addresses:
    - 10.98.50.62 # cluster ip of istio-ingressgateway-staging
  ports:
    - name: http
      number: 8082 # istio ingress gateway LoadBalancer HTTP
      protocol: HTTP
    - name: https
      number: 44302 # istio ingress gateway LoadBalancer HTTPS
      protocol: HTTPS