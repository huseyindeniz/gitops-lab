apiVersion: networking.istio.io/v1beta1
kind: ServiceEntry
metadata:
  name: management-cluster-ingress
  namespace: istio-system
spec:
  hosts:
    - "argocd.management.local"
    - "harbor.management.local"
  location: MESH_EXTERNAL
  resolution: STATIC
  addresses:
  - 172.17.0.51
  ports:
    - name: http
      number: 8081  # Matches management ingress HTTP port
      protocol: HTTP
    - name: https
      number: 44301  # Matches management ingress HTTPS port
      protocol: HTTPS
  endpoints:
    - address: 172.17.0.51  # Explicitly define where traffic goes
      ports:
        http: 8081
        https: 44301