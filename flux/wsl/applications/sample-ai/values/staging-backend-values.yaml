env:
  FLASK_ENV: "staging"
  PORT: 8000

replicaCount: 1

image:
  repository: sample-ai-backend # not published to docker hub, exist in my local docker, image size is 14.8GB
  pullPolicy: IfNotPresent
  tag: "latest"

nameOverride: "sample-ai-backend"
fullnameOverride: "sample-ai-backend-staging"

podAnnotations: {}
podLabels: {}

resources:
  requests:
    cpu: "250m"
    memory: "500Mi"
  limits:
    cpu: "500m"
    memory: "1Gi"

service:
  type: LoadBalancer
  port: 8000
  targetPort: 8000

ingress:
  enabled: true
  className: ""
  annotations: {}
  hosts:
    - host: sample-ai-backend-staging.local
      paths:
        - path: /
          pathType: Prefix

autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 10
  targetCPUUtilizationPercentage: 60
  targetMemoryUtilizationPercentage: 80

volumeMounts:
  - name: sample-ai-backend-volume
    mountPath: /app/data
    subPath: sample-ai-backend

volumes:
  - name: sample-ai-backend-volume
    persistentVolumeClaim:
      claimName: sample-ai-backend-pvc
